<?xml version="1.0" encoding="gb2312"?>

<procList>
    <proc name="mapserver-tomcat" enabled="true">
        <param name="description" value="Tomcat" />
        <param name="max_tries" value="-1" />
        <param name="instances" value="1" />
        <param name="grace_stop" value="0" />
        <param name="wait_seconds" value="5" />
        <param name="workDirectory" value="${SERVER_HOME}\apache-tomcat-8.0.36\bin" />

        <!-- 启动该子进程的可执行程序及命令行参数 -->
        <param name="executable" value="${SERVER_HOME}\jre1.8.0_92\bin\java.exe" />
        <param name="args"><![CDATA[
            -Dwebapp.name=mavenreposerver
            -DGT4WSS_HOME=${SERVER_HOME}
            -DGT4WSS_BASE=${SERVER_HOME}
            -Xms512m -Xmx2048m -XX:MaxMetaspaceSize=512m
            -Djdk.tls.ephemeralDHKeySize=2048
            -Djava.net.preferIPv4Stack=true
            -Djava.util.logging.config.file="${exeRunDir}\apache-tomcat-8.0.36\conf\logging.properties"
            -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
            -Djava.endorsed.dirs="${SERVER_HOME}\apache-tomcat-8.0.36\endorsed"
            -Dcatalina.base="${SERVER_HOME}\apache-tomcat-8.0.36"
            -Dcatalina.home="${SERVER_HOME}\apache-tomcat-8.0.36"
            -Djava.io.tmpdir="${SERVER_HOME}\apache-tomcat-8.0.36\temp"
            -classpath " \
                ${SERVER_HOME}\apache-tomcat-8.0.36\bin\bootstrap.jar;  \
                ${SERVER_HOME}\apache-tomcat-8.0.36\bin\tomcat-juli.jar \
                "
            org.apache.catalina.startup.Bootstrap start
        ]]>
        </param>

        <!-- 停止该子进程的可执行程序及命令行参数(可选) -->
        <param name="stopExecutable" value="${SERVER_HOME}\jre1.8.0_92\bin\java.exe" />
        <param name="stopArgs"><![CDATA[
            -Djdk.tls.ephemeralDHKeySize=2048
            -Djava.net.preferIPv4Stack=true
            -Djava.util.logging.config.file="${SERVER_HOME}\apache-tomcat-8.0.36\conf\logging.properties"
            -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
            -Djava.endorsed.dirs="${SERVER_HOME}\apache-tomcat-8.0.36\endorsed"
            -Dcatalina.base="${SERVER_HOME}\apache-tomcat-8.0.36"
            -Dcatalina.home="${SERVER_HOME}\apache-tomcat-8.0.36"
            -Djava.io.tmpdir="${SERVER_HOME}\apache-tomcat-8.0.36\temp"
            -classpath " \
                ${SERVER_HOME}\apache-tomcat-8.0.36\bin\bootstrap.jar; \
                ${SERVER_HOME}\apache-tomcat-8.0.36\bin\tomcat-juli.jar \
                "
            org.apache.catalina.startup.Bootstrap stop
        ]]>
        </param>

        <!-- 需要传递给该子进程的专用环境变量(可选). -->
        <!--
        <envVars>
            <add name="win.PATH" value="${PATH};${runDir};${JAVA_HOME}\jre\bin\server" />
            <add name="linux.PATH" value="${PATH}:${runDir}:${JAVA_HOME}/jre/bin/server" />
        </envVars>
        -->
    </proc>

</procList>

